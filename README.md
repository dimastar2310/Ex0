# Elevator-OOP-0
                                 

מטלה 0 מעליות חלק א'

מגישים: נתנאל כהן - ,205569890 דמיטרי סנין - 324466671

סעיף :1

להלן שלושה עבודה אשר יעזרו לנו לממש את הקוד :

https://thinksoftware.medium.com/elevator-system-design-a-tricky-technical-intervie w-question-116f396f2b1c

http://www.cs.cmu.edu/~luluo/Courses/18540PhDreport.pdf


https://www.researchgate.net/publication/220590321_Optimization_of_Group_Elevat or_Scheduling_With_Advance_Information

סעיף :2

ההבדל בין אלגוריתם אונליין לאופליין הוא בזמינות הקלט אלגוריתם אונליין משתמש בנתונים ברגע נתון ולכן לא ניתן לכתוב אלגוריתם הכי יעיל כי חסרה לנו אינפורמציה מלפני על התנהגות של אנשים
מי עולה מתיי ובאיזה מהירות.

אלגוריתם אופליין מבוסס על נתונים קודמים על מהירויות של מעליות שהתאימו עצמם לאנשים כי
למדו התנהגות של אנשים בזמן הקודם אלגוריתם אופליין הוא רקורסיבי או דינאמי.

אלגוריתם אופליין:

אלגוריתם זה יתפקד בכך שנתון לנו כל האינפורמציה לפני, בכך שאני כבר יודע את מהירויות המעליות את כמות הקריאות של האנשים את מספר המעליות ואת מספר הקומות, בכך אני יוכל לממש אלגוריתם שיקח בחשבון את כל הנתונים הללו ולשייך לזה את הזמן האופטימלי ביותר לפי המידע שניתן לי לפני, בכך שאני ישבץ למעלית מהירה יותר את השיבוצים הרחוקים ביותר ומעליות איטיות יותר יעבדו על שיבוצים קרובים יותר לסביבתם וכו,' בכך אני יטפל בכל המקרים שאני רוצה
באיזה צורה שאני רוצה בהתאם לאינפורמציה שניתנה לפני.

בנוסף, בכך שנתון לי כל המידע הנוכחי והקודם לתת לרשת ניורונית ללמוד את התנהגות של המידע הנתון והיא תגיע לאחוזי הצלחה מאוד גבוהים, מכיוון שאנחנו ניתן לה לבדוק סימולציות על קבוצת
הלמידה שלה והיא כמעט כל הזמן תגיע לאחוזי הצלחה גבוהים.
 

סעיף :3

אלגוריתם אונליין:

במימוש אלגוריתם זה נרצה לייעל את זמן ההמתנה של אנשים המחכים למעלית, מימוש זה יעשה בעזרת תור עדיפיות שיחזיק את הקריאות שהמעלית מקבלת,ונשייך את הקריאות למעלית בעזרת חישוב מרחק של המעלית מהמיקום שלה לקומת ההגעה של הקריאה שהתקבלה בעזרת הנוסחא
מהירות*זמן= דרך ,ובנוסף בדיקות נוספות למקרי קיצון.

המחלקה תחזיק מערך של מבנה נתונים Elevator_DB שיחזיק שני תורי עדיפויות אחד לקריאות עלייה ואחד לקריאות ירידה, תור העדיפויות יחזיק את קומת האיסוף וקומת ההגעה ויסדר אותם עפ"י הקריאה המתקבלת לתור הנכון, קריאות של עלייה ישבוץ לתור שמתפקד כמו Min_Heap והקריאות לירידה ישבוץ לתור שמתפקד כמו .Max_Heap בנוסף קיימים עוד משתנים שפותרים
בעיות שיבוץ.

שיבוץ הקריאה למעלית נכונה:

אנחנו נבצע את בחירת המעלית הנכונה לקריאה שהתקבלה בעזרת בדיקה האם הקריאה שהתקבלה נמצאת בדרך של כיוון המעלית ובנוסף המעלית עדיין לא עברה את קומת האיסוף
הקריאה או למעלית שעומדת ולא עושה כלום כרגע, אם עדיין לא מצאנו מעלית שתקבל שיבוץ נבדוק האם הקומה האחרונה שהמעלית תגיע אליה קרובה או שווה לקומת האיסוף של הקריאה החדשה
שהתקבלה ונכלול את המיקום של המעלית בחישוב הזמן.

הזזת המעלית לפי הקריאות:

הזזת המעלית תעשה בכך שאנחנו יודעים שעפ"י סידור תור העדיפויות שלנו ראש התור יהיה הקומה שאנחנו נצטרך לעצור בה בין אם זה קומת איסוף או קומת ההגעה,כי התור מחזיק רק את המספרים של הקריאות. נעבור על התור בכך שכל פעם שנראה שמעלית נמצאת בקומה של ראש התור נשלוף את הראש ונלך לאיבר הבא שהחליף את הראש של התור, אך נשים לב למקרה שהמעלית עכשיו בכיוון מסוים כשאנחנו אולי נקבל קריאה חדשה נבדוק אם הראש של התור שלנו
עכשיו )קטן או גדול בהתאם לקריאה שאנחנו מטפלים בה( מהקומה שהמעלית כרגע מתקדמת אליה
ואז נעשה עצירה בדרך לקומה החדשה שנכנסה לראש התור.
תעודה : -593416
סעיף :4
![alt text](https://github.com/dimastar2310/Ex0/blob/main/UML_Elevators.png)
סעיף :5

טסטים:

(1 מקרה כאשר כל המעליות עולות למעלה וקיבלנו קריאה לירידה, אך כל
המעליות מעל קומת הקריאה. (2 מקרה כאשר מעלית מקבלת קריאה של עלייה אך היא כבר נעה למעלה ובנוסף
 היא מעל קומת הקריאה. (3 מקרה כאשר מעלית מקבלת קריאה של עליה אך היא מעל קומת הקריאה אך
היא קיבלה קריאה נוספת של ירידה בין קומת המיקום של המעלית לקומת
האיסוף.
(4 אם ישלנו 1000 קומות ומעליות שתזרק שגיאה.
(5 אם המעלית אוספת מישהו בדרך שלה והיא מתחת לקומת האיסוף.
דוחות הקוד לכל מקרה
מקרה :0

זמן המתנה כללי : 231.9897426188186

זמן המתנה ממוצע: 23.19897426188186

מספר קריאות שלא נקראו: 0

592274018- : תעודה

מקרה :1

זמן המתנה כללי : 381.9897426188186

זמן המתנה ממוצע: 38.19897426188186

מספר קריאות שלא נקראו: 6

1115627442- : תעודה

מקרה :2

זמן המתנה כללי : 8613.792822120191

זמן המתנה ממוצע: 86.1379282212019

מספר קריאות שלא נקראו: 10

3169748186- : תעודה

מקרה :3

זמן המתנה כללי : 24665.53828433314

זמן המתנה ממוצע: 61.663845710832845

מספר קריאות שלא נקראו: 1

1899148990- : תעודה
 


מקרה :4

זמן המתנה כללי : 40214.45536864207

זמן המתנה ממוצע: 80.42891073728414

מספר קריאות שלא נקראו: 5

2822722796- : תעודה

מקרה :5

זמן המתנה כללי : 118592.1211570518

זמן המתנה ממוצע: 118.5921211570518

מספר קריאות שלא נקראו: 31

4209243331- : תעודה

מקרה :6

זמן המתנה כללי : 115264.88209694847

זמן המתנה ממוצע: 115.26488209694847

מספר קריאות שלא נקראו: 26

3787160423- : תעודה

מקרה :7

זמן המתנה כללי : 304747.1211570519

זמן המתנה ממוצע: 304.7471211570519

מספר קריאות שלא נקראו: 90

30896904148- : תעודה
 


מקרה :8

זמן המתנה כללי : 241726.88209694892

זמן המתנה ממוצע: 241.7268820969489

מספר קריאות שלא נקראו: 48

7846711072- : תעודה

מקרה :9

זמן המתנה כללי : 175338.34007431255

זמן המתנה ממוצע: 175.33834007431255

מספר קריאות שלא נקראו: 31

